<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Galileo Computing :: C von A bis Z – 12.3 Bedingte Kompilierung</title>
<meta name="title" content="Galileo Computing :: C von A bis Z">
<meta name="author" content="J&uuml;rgen Wolf">
<meta name="publisher" content="Galileo Press 2006">
<meta name="copyright" content="Galileo Press 2006">
<meta name="description" content="C von A bis Z - Das umfassende Handbuch f&uuml;r Linux, Unix und Windows – 2., aktualisierte und erweiterte Auflage 2006, geb., mit CD und Referenzkarte – ISBN 3-89842-643-2">
<meta name="audience" content="Alle">
<meta name="robots" content="INDEX,FOLLOW">
<meta http-equiv="content-language" content="de">
<link rel="stylesheet" type="text/css" href="common/galileo_open.css">
<link rel="prev" href="c_012_001.htm">
<link rel="next" href="c_012_003.htm"><script type="text/javascript" language="JavaScript"><!--
function OpenWin(url,name,height,width)
{
  var InfoWin = window.open(url,name,"directories=0,height="+height+",width=" + width + ",hotkeys=0,location=0,menubar=0,resizable=1,screenX=150,screenY=10,left=150,top=10,scrollbars=1,status=1,titlebar=0,toolbar=0");
  InfoWin.focus();
}
//--></script></head>
<body vlink="#000099" link="#000099" alink="#000099">
    <table width="100%" height="74" border="0" cellpadding="0" cellspacing="0" bgcolor="#000066">
        <tr>
            <td height="74" valign="bottom" colspan="2"><a href="http://www.galileocomputing.de/katalog/openbook/?GPP=opc"><img src="common/galileocomputing_openbook.gif" width="200" height="56" border="0" alt="Galileo Computing < openbook >" title="Galileo Computing < openbook >"></a></td>
            <td width="80" height="74"><a href="http://www.galileocomputing.de/?GPP=opc"><img src="common/galileocomputing.gif" border="0" alt="Galileo Computing - Professionelle B&uuml;cher. Auch f&uuml;r Einsteiger." title="Galileo Computing - Professionelle B&uuml;cher. Auch f&uuml;r Einsteiger."></a></td>
        </tr>
    </table>
    <div align="right"><a href="http://www.galileocomputing.de/?GPP=opc" class="navnav">Professionelle B&uuml;cher. Auch f&uuml;r Einsteiger.</a></div>
    <br />
<table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
        <td width="156" valign="top">
    <table border="0" cellpadding="0" cellspacing="0" width="100%" align="left">
        <tr>
            <td colspan="2" class="nav1" align="left" valign="top" height="150">
                <table class="tbl1" width="150" border="0" cellpadding="3" cellspacing="0">
<tr>
<td class="tbl2" height="25"><a class="nav" href="./index.htm">Inhaltsverzeichnis</a></td>
</tr>
<tr>
<td><a class="navnav" href="./c_000Vorwort_000.htm#Xxx999266">Vorwort</a></td>
</tr>
<tr>
<td><a class="navnav" href="./c_000VorwortGutachter_000.htm#Xxx999275">Vorwort des Gutachters</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_001_000.htm#Xxx999328">1 Einstieg in C</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_002_000.htm#Xxx999328">2 Das erste Programm</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_003_000.htm#Xxx999328">3 Zeichens&auml;tze</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_004_000.htm#Xxx999329">4 Kommentare in C</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_005_000.htm#Xxx999330">5 Formatierte Eingabe mit scanf()</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_006_000.htm#Xxx999330">6 Formatierte Ausgabe mit printf</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_007_000.htm#Xxx999329">7 Elementare Datentypen</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_008_000.htm#Xxx999328">8 Operatoren</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_009_000.htm#Xxx999328">9 Typenumwandlung</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_010_000.htm#Xxx999328">10 Kontrollstrukturen</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_011_000.htm#Xxx999328">11 Funktionen</A></td>
</tr>
<tr>
<td><A class="navh" href="./c_012_000.htm#Xxx999328">12 Pr&auml;prozessor-Direktiven</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_013_000.htm#Xxx999328">13 Arrays</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_014_000.htm#Xxx999328">14 Zeiger (Pointer)</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_015_000.htm#Xxx999328">15 Kommandozeilenargumente</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_016_000.htm#Xxx999328">16 Dynamische Speicherverwaltung</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_017_000.htm#Xxx999328">17 Strukturen</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_018_000.htm#Xxx999328">18 Ein-/Ausgabe-Funktionen</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_019_000.htm#Xxx999328">19 Attribute von Dateien und Arbeiten mit Verzeichnissen (nicht ANSI C)</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_020_000.htm#Xxx999328">20 Arbeiten mit variablen langen Argumentlisten – &lt;stdarg.h&gt;</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_021_000.htm#Xxx999328">21 Zeitroutinen</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_022_000.htm#Xxx999328">22 Weitere Headerdateien und ihre Funktionen (ANSI C)</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_023_000.htm#Xxx999328">23 Dynamische Datenstrukturen</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_024_000.htm#Xxx999328">24 Algorithmen</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_025_000.htm#Xxx999328">25 Sicheres Programmieren</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_026_000.htm#Xxx999328">26 CGI mit C</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_027_000.htm#Xxx999328">27 MySQL und C</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_028_000.htm#Xxx999328">28 Netzwerkprogrammierung und Cross-Plattform-Entwicklung</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_029_000.htm#Xxx999328">29 Wie geht’s jetzt weiter?</A></td>
</tr>
<tr>
<td><a class="navnav" href="./c_030Anhang_000.htm#Xxx999266">A Anhang</A></td>
</tr>
<tr>
<td><a class="navnav" href="./stichwort.htm#Xxx512322">Index</a></td>
</tr>
<tr><td><br /><a class="navnav" href="http://download.galileo-press.de/openbook/c_von_a_bis_z/galileocomputing_c_von_a_bis_z.zip"><strong>Download:</strong><br />- ZIP, ca. 8,5 MB</a></td></tr>
<tr><td><a class="navnav" href="http://www.galileocomputing.de/899?GPP=opc">Buch bestellen</a></td></tr>
<tr><td><a class="navnav" href="mailto:stefan.krumbiegel@galileo-press.de?subject=Meinung%20zu%20C%20von%20A%20bis%20Z%20(openbook)">Ihre Meinung?</a><br /><br /></td></tr>
</table></td>
</tr>
</table>
</td>
<td width="10"><img src="common/spacer10.gif" width="10" height="10"></td>
<td width="85%" valign="top" align="center">
    <div align="center">
        <table width="98%" border="0" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF">
            <tr>
                <td width="100%" class="start" colspan="1" height="22" align="center">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="25%"><a class="navnav" href="c_012_001.htm"> &lt;&lt; zur&uuml;ck</a></td>
<td width="49%">
<div align="center"><a href="http://www.galileocomputing.de/?GPP=opc" class="navnav">Galileo Computing /</a><a class="navnav" href="http://www.galileocomputing.de/katalog/openbook/?GPP=opc"> &lt;openbook&gt; /</a><a href="./index.htm" class="navnav"> C von A bis Z</a></div>
</td>
<td align="right" width="25%">
<div align="right"><a class="navnav" href="c_012_003.htm">vor &gt;&gt; </a></div>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="100%" valign="top">
    <table width="100%" border="0" cellpadding="10" cellspacing="0" class="box">
        <tr>
            <td colspan="2"><a href="http://www.galileocomputing.de/899?GPP=opc" class="buchtitel">C von A bis Z</a><span class="autor"> von J&uuml;rgen Wolf</span><br><span class="untertitel">Das umfassende Handbuch f&uuml;r Linux, Unix und Windows <br />– 2., aktualisierte und erweiterte Auflage 2006</span></td>
        </tr>
        <tr>
            <td valign="top" width="90"><a href="http://www.galileocomputing.de/899?GPP=opc"><img src="common/643.gif" border="0" alt="Buch: C von A bis Z" title="Buch: C von A bis Z" align="left"><br /><br /><span class="autor"><strong>C von A bis Z</strong><br />1.116 S., mit CD, Referenzkarte, 39,90 Euro<br />Galileo Computing<br />ISBN 3-89842-643-2</span></a></a></td>
            <td width="80%">
<table border="0">
<tr>
<td valign="baseline"><img src="common/pfeil_u.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="3" class="kap"><b>Kapitel <a href="./c_012_000.htm#RxxobKap012000040027E01F01618C">12 Pr&auml;prozessor-Direktiven</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="./c_012_000.htm#RxxobKap012000040027E01F01619C">12.1 Einkopieren von Dateien mittels #include</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="./c_012_001.htm#RxxobKap012001040027FB1F02718C">12.2 Makros und Konstanten – #define</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><a href="./c_012_001.htm#RxxobKap012001040027FB1F027190">12.2.1 Symbolische Konstanten mit #define</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><a href="./c_012_001.htm#RxxobKap012001040027FB1F0271AD">12.2.2 Makros mit #define</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a class="navh" href="#RxxobKap012002040027FC1F02718C">12.3 Bedingte Kompilierung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="./c_012_003.htm#RxxobKap012003040027FD1F02018C">12.4 Vordefinierte Pr&auml;prozessor-Direktiven (ANSI C)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="./c_012_004.htm#RxxobKap012004040027FE1F01318C">12.5 Ersetzung eines Makroparameters durch einen String</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="./c_012_005.htm#RxxobKap012005040027FF1F02B18C">12.6 #undef – Makronamen wieder aufheben</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="./c_012_006.htm#RxxobKap012006040028001F02418C">12.7 Ausgeben von Fehlermeldungen – #error</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="./c_012_007.htm#RxxobKap012007040028011F04518C">12.8 #pragma</a></b></td>
</tr>
</table><br></td>
</tr>
</table>
<table width="100%" cellpadding="20" cellspacing="0" border="0" bgcolor="#eeeeee">
<tr>
<td>
<a name="t21"></a><a name="t2t31"></a><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang" title="Galileo Computing - Zum Seitenanfang"></a></div>
<h2 class="t2">12.3 Bedingte Kompilierung<a id="RxxobKap012002040027FC1F02718C" name="RxxobKap012002040027FC1F02718C"></a> 
      <img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"><img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"></h2>
<p><a id="Xxx999329" name="Xxx999329"></a><a id="Xxx999330" name="Xxx999330"></a><a id="Xxx999331" name="Xxx999331"></a><a id="Xxx999332" name="Xxx999332"></a><a id="Xxx999333" name="Xxx999333"></a>Zu diesem Unterkapitel muss erw&auml;hnt werden, dass viele der beschriebenen Vorgehensweisen nicht dem ANSI C-Standard entsprechen. Da aber Programmierer oft ihre Programme auch gern auf andere Systeme portieren wollen, soll hier dennoch n&auml;her auf die Thematik eingegangen werden. Hierzu die Syntax zur bedingten &Uuml;bersetzung:</p>
<pre>#ifdef   symbol
#ifdef ( symbol )
#elif   symbol
#elif ( symbol )
#else
#endif</pre>
<p>Diese Direktiven werden eingesetzt, um zu &uuml;berpr&uuml;fen, ob ein Symbol zuvor schon mit <span class="listing">#define</span> definiert wurde. Ist <span class="listing">symbol</span> definiert, liefern diese Direktiven 1 zur&uuml;ck, ansonsten 0. Abgeschlossen wird eine bedingte &Uuml;bersetzung mit der Direktive <span class="listing">#endif</span>.</p>
<p>Sie haben im vorangegangenen Kapitel schon einen kurzen Einblick (bei der selbst geschriebenen Headerdatei) in die bedingte Kompilierung erhalten. Hierzu ein einfaches Beispiel:</p>
<pre>/* clrscr.c */
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#ifdef __unix__
   #define clrscr() printf("\x1B[2J")
#elif __BORLANDC__ &amp;&amp; __MSDOS__
   #include &lt;conio.h&gt;
#elif __WIN32__ || _MSC_VER
   #define clrscr() system("cls")
#else
   #define clrscr() printf("clrscr() – Fehler!!\n")
#endif
int main(void) {
   /* Universale Routine zum L&ouml;schen des Bildschirms */
   clrscr();
   return EXIT_SUCCESS;
}</pre>
<p><a id="Xxx999339" name="Xxx999339"></a><a id="Xxx999340" name="Xxx999340"></a><a id="Xxx999341" name="Xxx999341"></a>Hier wird vor der &Uuml;bersetzung festgelegt, welche Routine zum L&ouml;schen des Bildschirms benutzt werden soll. Mit</p>
<pre>#ifdef __unix__</pre>
<p>&uuml;berpr&uuml;ft der Pr&auml;prozessor, ob das Programm auf einem UNIX-artigen System l&auml;uft. Wenn das der Fall ist, dann wird mit</p>
<pre>#define clrscr() printf("\x1B[2J")</pre>
<p>die Routine zum L&ouml;schen des Bildschirms definiert, da diese eben nur unter UNIX/Linux funktioniert. Falls es sich nicht um ein UNIX-System handelt, wird mit<a id="Xxx999347" name="Xxx999347"></a></p>
<pre>#elif __BORLANDC__ &amp;&amp; __MSDOS__</pre>
<p>&uuml;berpr&uuml;ft, ob das Programm mit einem Borland-Compiler und unter MS-DOS &uuml;bersetzt wird. Ist das der Fall, dann wird das L&ouml;schen des Bildschirms durch eine in der Headerdatei <span class="listing">#include</span> <span class="listing">&lt;conio.h&gt;</span> definierte Funktion mit demselben Namen vorgenommen. Anschlie&szlig;end wird &uuml;berpr&uuml;ft, ob das Programm in einem Win32-Fenster l&auml;uft oder mit dem Visual C++-Compiler &uuml;bersetzt wird.</p>
<pre>#elif __WIN32__ || _MSC_VER
   #define clrscr() system("cls")</pre>
<p>Trifft keiner der gepr&uuml;ften F&auml;lle zu, wird eine entsprechende Ausgabe erzeugt:<a id="Xxx999351" name="Xxx999351"></a></p>
<pre>#else
   #define clrscr() printf("clrscr()-Fehler!!\n")</pre>
<p>Abgeschlossen wird diese bedingte Kompilierung mit<a id="Xxx999354" name="Xxx999354"></a></p>
<pre>#endif</pre>
<p>Durch die bedingte Kompilierung besteht die M&ouml;glichkeit, Programme einfacher auf andere Systeme zu portieren. Die bedingte Kompilierung l&auml;sst sich auch anders verwenden:</p>
<pre>/* t_system.c */
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#ifdef __MSDOS__
int main(void) {
   printf("Programm l&auml;uft unter MSDOS \n");
   return EXIT_SUCCESS;
}
#elif __WIN32__ || _MSC_VER
int main(void) {
   printf("Programm l&auml;uft unter Win32\n");
   return EXIT_SUCCESS;
}
#elif __unix__ || __linux__
int main(void) {
   printf("Programm l&auml;uft unter UNIX/LINUX\n");
   return EXIT_SUCCESS;
}
#else
int main(void) {
   printf("Unbekanntes Betriebssystem!!\n");
   return EXIT_SUCCESS;
}
#endif</pre>
<p>Hier wurden mehrere <span class="listing">main()</span>-Funktionen verwendet. Auf dem System, f&uuml;r das die bedingte Kompilierung gilt, wird die entsprechende <span class="listing">main</span>-Funktion auch ausgef&uuml;hrt.</p>
<p><a name="bild"></a><a href="#bild" onClick="OpenWin('bilder/12_02.gif','Abbildung',600,600)"><img border="0" src="bilderklein/klein12_02.gif" alt="Abbildung"><br><span class="tabunter">Hier klicken, um das Bild zu Vergr&ouml;&szlig;ern</span></a></p>
<p class="tabunter"><b>Abbildung 12.2   
    </b>Bedingte Kompilierung – Programm l&auml;uft unter Win32</p>
<p><a name="bild"></a><a href="#bild" onClick="OpenWin('bilder/12_03.gif','Abbildung',600,600)"><img border="0" src="bilderklein/klein12_03.gif" alt="Abbildung"><br><span class="tabunter">Hier klicken, um das Bild zu Vergr&ouml;&szlig;ern</span></a></p>
<p class="tabunter"><b>Abbildung 12.3   
    </b>Bedingte Kompilierung – Programm l&auml;uft unter Linux/UNIX</p>
<p>Sie k&ouml;nnen die bedingte Kompilierung mit <span class="listing">if-else</span> <span class="listing">if–else</span>-Abfragen vergleichen. Um Compiler-spezifische Abfragen zu t&auml;tigen, gibt es folgende Compiler-Konstanten:<a id="Xxx999371" name="Xxx999371"></a></p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<caption class="tabunter">
<p><span class="tabunter"><b>Tabelle 12.3   
    </b>Konstanten f&uuml;r bestimmte Compiler</span></p>
</caption>
<tr>
<td class="tabellenkopf" bgcolor="#000000"><b>Konstante</b>
</td>
<td class="tabellenkopf" bgcolor="#000000"><b>Compiler</b>
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">MSC_VER
</td>
<td class="tabellentext" bgcolor="#000000">Microsoft C ab Version 6.0
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">QC
</td>
<td class="tabellentext" bgcolor="#000000">Microsoft Quick C ab Version 2.51
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">TURBOC
</td>
<td class="tabellentext" bgcolor="#000000">Borland Turbo C, Turbo C++ und BC++
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">BORLANDC
</td>
<td class="tabellentext" bgcolor="#000000">Borland C++ 
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">ZTC
</td>
<td class="tabellentext" bgcolor="#000000">Zortech C und C++ 
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">SC
</td>
<td class="tabellentext" bgcolor="#000000">Symantec C++
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">WATCOMC
</td>
<td class="tabellentext" bgcolor="#000000">WATCOM C 
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">GNUC
</td>
<td class="tabellentext" bgcolor="#000000">Gnu C
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">EMX
</td>
<td class="tabellentext" bgcolor="#000000">Emx Gnu C
</td>
</tr>
</table><br>
<p>Es wird nochmals darauf hingewiesen, dass diese Konstanten nicht vom ANSI C-Gremium vorgeschrieben sind.</p>
<p>F&uuml;r die bedingte Kompilierung mit Betriebssystemen finden sich folgende Konstanten:<a id="Xxx999423" name="Xxx999423"></a></p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<caption class="tabunter">
<p><span class="tabunter"><b>Tabelle 12.4   
    </b>Konstanten f&uuml;r bestimmte Betriebssysteme</span></p>
</caption>
<tr>
<td class="tabellenkopf" bgcolor="#000000"><b>Konstante</b>
</td>
<td class="tabellenkopf" bgcolor="#000000"><b>Betriebssystem</b>
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">unix<span class="listing">__</span> oder <span class="listing">__</span>unix
</td>
<td class="tabellentext" bgcolor="#000000">UNIX-System
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">MS_DOS
</td>
<td class="tabellentext" bgcolor="#000000">MS-DOS
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">WIN32
</td>
<td class="tabellentext" bgcolor="#000000">Windows ab 95
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">OS2
</td>
<td class="tabellentext" bgcolor="#000000">OS2
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">Windows
</td>
<td class="tabellentext" bgcolor="#000000">Zielsystem Windows
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">NT
</td>
<td class="tabellentext" bgcolor="#000000">Windows NT
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">linux
</td>
<td class="tabellentext" bgcolor="#000000">Linux
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">FreeBSD
</td>
<td class="tabellentext" bgcolor="#000000">FreeBSD
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">OpenBSD
</td>
<td class="tabellentext" bgcolor="#000000">OpenBSD
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">SGI_SOURCE
</td>
<td class="tabellentext" bgcolor="#000000">SGI-IRIX mit Extension *.sgi
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">MIPS_ISA
</td>
<td class="tabellentext" bgcolor="#000000">SGI-IRIX
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">hpux
</td>
<td class="tabellentext" bgcolor="#000000">HP-UX
</td>
</tr>
</table><br>
<p>Es gibt sicherlich noch weitere Konstanten. Die hier genannten z&auml;hlen zu den g&auml;ngigsten. Sehen Sie sich ein anderes Programmbeispiel dazu an:</p>
<pre>/* sektor.c */
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#ifdef __unix__ || linux
   #define SEKTORSIZE 4096
#elif __MSDOS__ || __WIN32__ || _MSC_VER
   #define SEKTORSIZE 512
#else
#define SEKTORSIZE 0
#endif
void sect(long size) {
   long kb,s=SEKTORSIZE;
   if(s == 0)
      printf("Unbekanntes System\n");
   else if(s==4096)
      printf("UNIXsystem : ");
   else
     printf("DOS/Win32 : ");
   kb = size * s;
   printf("%ld Sektoren = %ld B\n", size, kb);
}
int main(void) {
   long sector;
   printf("Wie viele Sektoren: ");
   scanf("%ld",&amp;sector);
   sect(sector);
   return EXIT_SUCCESS;
}</pre>
<p>Dies ist ein Beispiel zum Thema Portabilit&auml;t. Auf MS-DOS/Win32 betr&auml;gt die Gr&ouml;&szlig;e eines Sektors auf der Festplatte 512 KBytes. Auf UNIX-Systemen hingegen meist 4096 KBytes (unter BSD gew&ouml;hnlich 1024 KBytes) pro Sektor. Sie m&uuml;ssen nur am Anfang des Programms dem Pr&auml;prozessor die Anweisung geben, f&uuml;r welches System er die Gr&ouml;&szlig;e einer bestimmten Anzahl von Sektoren ausgeben soll.</p>
<p>Folgende Schreibweisen sind im &Uuml;brigen identisch:</p>
<pre>#ifdef MAKRO
/* ist identisch mit */
#if defined MAKRO</pre>
<p>Des Weiteren gibt es eine Direktive, die es erm&ouml;glicht, zu &uuml;berpr&uuml;fen, ob etwas nicht definiert wurde:</p>
<pre>#ifndef __STDIO_H
   #define __STDIO_H
#endif</pre>
<p>Hier &uuml;berpr&uuml;ft der Pr&auml;prozessor, ob er die Headerdatei <span class="listing">&lt;stdio.h&gt;</span> noch nicht eingebunden hat.</p>
<p>Das ist zum Beispiel erforderlich, wenn mehrere Headerdateien und Module benutzt werden, die <span class="listing">&lt;stdio.h&gt;</span> ben&ouml;tigen. Somit w&uuml;rden alle Makros in der Headerdatei <span class="listing">&lt;stdio.h&gt;</span> mehrmals definiert werden, was im schlimmsten Fall sogar einen Fehler ausl&ouml;sen kann. Mit der eben geschriebenen Struktur wird dieses vermieden.</p>
<p>Auch zu dieser Direktive gibt es eine alternative Schreibweise:</p>
<pre>#ifndef MAKRO
/* ist dasselbe wie */
#if !defined MAKRO</pre>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="25%"><a class="navnav" href="c_012_001.htm"> &lt;&lt; zur&uuml;ck</a></td>
<td width="49%">
<div align="center"><a class="navnav" href="#">&lt;top&gt;</a></div>
</td>
<td align="right" width="25%">
<div align="right"><a class="navnav" href="c_012_003.htm">vor &gt;&gt; </a></div>
</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
</td>
<td width="10" valign="top">&nbsp;&nbsp;</td>
<td width="160" valign="top">
    <table border="0" cellpadding="0" cellspacing="0" width="160">
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2">
                            &nbsp;<a href="http://www.galileocomputing.de/katalog/buecher/?GPP=opc" class="navs">
                            <strong>Zum Katalog</strong></a>
                        </td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2">
                            <img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><a href="http://www.galileocomputing.de/899?GPP=opc">
                                        <img src="common/643_90px.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: C von A bis Z" title="Zum Katalog: C von A bis Z">
                                        <br /><strong>C von A bis Z</strong><br /><img src="common/pfeil_rechts5.gif" border="0" alt="">bestellen</a>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2"><strong>&nbsp;Ihre Meinung?</strong></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td>Wie hat Ihnen das &lt;openbook&gt; gefallen?<br /><a href="mailto:stefan.krumbiegel@galileo-press.de?subject=Meinung%20zu%20C%20von%20A%20bis%20Z%20(openbook)"><img src="common/pfeil_rechts5.gif" border="0" alt="">Ihre Meinung</a>
                                    <br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2">&nbsp;<a href="http://www.galileocomputing.de/katalog/buecher/?GPP=opc" class="navs"><strong>Buchtipps</strong></a></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/1007?GPP=opc">
                        <img src="common/683_90px.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Shell-Programmierung" title="Zum Katalog: Shell-Programmierung"><br /><br /><br /><br /><br /><br /><br />&nbsp;Shell-Programmierung</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/1137?GPP=opc">
                        <img src="common/749_90px.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-UNIX-Programmierung" title="Zum Katalog: Linux-UNIX-Programmierung"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux-UNIX-Programmierung</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/1004?GPP=opc">
                        <img src="common/644_90px.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: C/C++" title="Zum Katalog: C/C++"><br /><br /><br /><br /><br /><br /><br />&nbsp;C/C++</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/880?GPP=opc">
                        <img src="common/573_90px.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: UML 2.0" title="Zum Katalog: UML 2.0"><br /><br /><br /><br /><br /><br /><br />&nbsp;UML 2.0</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/967?GPP=opc">
                        <img src="common/626_90px.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Reguläre Ausdrücke" title="Zum Katalog: Reguläre Ausdrücke"><br /><br /><br /><br /><br /><br /><br />&nbsp;Reguläre Ausdrücke</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/941?GPP=opc">
                        <img src="common/677_90px.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux" title="Zum Katalog: Linux"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux</a><br /><br /></td>
                    </tr>
                </table></td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2"><strong>&nbsp;Shopping</strong></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><b>Versandkostenfrei</b> bestellen in Deutschland und &Ouml;sterreich<br /><a href="http://www.galileocomputing.de/hilfe/Shop/?GPP=opc"><img src="common/pfeil_rechts5.gif" border="0" alt="Info">Info</a><br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</td>
</tr>
</table>
<br /><br />
<hr width="70%" align="center"><br />
<div align="center">
<p class="standard"><b>Copyright © Galileo Press 2006</b><br>F&uuml;r Ihren privaten Gebrauch d&uuml;rfen Sie die Online-Version nat&uuml;rlich ausdrucken. Ansonsten unterliegt das &lt;openbook&gt; denselben Bestimmungen, wie die gebundene Ausgabe: Das Werk einschlie&szlig;lich aller seiner Teile ist urheberrechtlich gesch&uuml;tzt. Alle Rechte vorbehalten einschlie&szlig;lich der Vervielf&auml;ltigung, &Uuml;bersetzung, Mikroverfilmung sowie Einspeicherung und Verarbeitung in elektronischen Systemen.</p><br><a href="http://www.galileocomputing.de/">[Galileo Computing]</a><br><br>Galileo Press, Rheinwerkallee 4, 53227 Bonn, Tel.: 0228.42150.0, Fax 0228.42150.77, <a href="mailto:info@galileo-press.de">info@galileo-press.de</a></div><br><br></body>
</html>
